% File              : compile_mfcl.m
% Author            : Pradeep Rajendran <pradeepr.roboticist@gmail.com>
% Date              : 06.24.2019
% Last Modified Date: 06.24.2019
% Last Modified By  : Pradeep Rajendran <pradeepr.roboticist@gmail.com>

% Dynamically linked libraries may need to be set for dynamically linked libraries to work.
% #!/bin/bash
% LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libstdc++.so.6 \
% LD_LIBRARY_PATH=/usr/lib/x86_64-linux-gnu \

% We just use static linking here
mex -R2018a ...
    -v CXXFLAGS='$CXXFLAGS -std=c++14' ...
    -I./ ...
    -I/usr/include/eigen3 ...
    -I../MOctomap/octomap/octomap/include ...
    -I./fcl/include ...
    -L../MOctomap/octomap/lib/  ...
    -L./fcl/build/lib/ ...
    fcl_collision_checker_interface.cpp ...
    ./fcl/build/lib/libfcl.a ...
    ../MOctomap/octomap/lib/liboctomath.a ...
    ../MOctomap/octomap/lib/liboctomap.a ...
    /usr/lib/x86_64-linux-gnu/libccd.so
